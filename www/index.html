<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>pgis</title>
  <link rel="stylesheet" href="lib/onsenui/css/onsenui.css" />
  <link rel="stylesheet" href="lib/onsenui/css/onsen-css-components.css" />
  <link rel="stylesheet" href="lib/leaflet/leaflet.css" />
  <link rel="stylesheet" href="lib/leaflet-locatecontrol/L.Control.Locate.min.css" />
  <link rel="stylesheet" href="index.css">

  <script type="text/javascript" src="license.js" charset="utf-8"></script>
  <script type="text/javascript" src="lib/onsenui/js/onsenui.min.js"></script>
  <script type="text/javascript" src="lib/leaflet/leaflet.js"></script>
  <script type="text/javascript" src="lib/leaflet-locatecontrol/L.Control.Locate.min.js"></script>
  <script type="text/javascript" src="lib/sql-js/sql-wasm.js"></script>
  <script type="text/javascript" src="config.js" charset="utf-8"></script>
  <script type="text/javascript" src="tools.js" charset="utf-8"></script>
  <script type="text/javascript" src="point_server.js" charset="utf-8"></script>
  <script type="text/javascript" src="index.js" charset="utf-8"></script>
</head>

<body>
  <h2>pgis</h2>

  <ons-splitter>
    <ons-splitter-side id="menu" side="right" width="220px" collapse>
      <ons-page>
        <ons-list>
          <ons-list-item onclick="fn.close()" class="" tappable>
            <ons-icon icon="ion-ios-close"> 閉じる</ons-icon>
          </ons-list-item>
          <!-- <ons-button onclick="stop()" modifier="large" tappable>停止</ons-button> -->
      </ons-page>
    </ons-splitter-side>
    <ons-splitter-content>
      <ons-navigator swipeable id="content" page="home.html"></ons-navigator>
    </ons-splitter-content>
  </ons-splitter>

  <template id="home.html">
    <ons-page id="home">
      <ons-toolbar>
        <div class="right">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          PGIS
        </div>
      </ons-toolbar>

      <div class="container">
        <!-- map  -->
        <div id="info">Click on the map to see the coordinates here.</div>
        <div id="mapid"></div>

        <!-- actions -->
        <label for="button-container">actions:</label>
        <div class="button-container">
          <!-- <button onclick="showStatus()">status</button> -->
          <button onclick="pgis.take_picture()">Take picture (gps)</button>
          <button onclick="pgis.save_current_pos()">Add current pos</button>
          <button onclick="pgis.remove_pos()">Remove selected pos</button>
          <button onclick="pgis.clear_pos()">Clear pos</button>
          <button onclick="pgis.download_points()">Download points</button>
          <button onclick="pgis.load_points()">Load points</button>
        </div>

        <!-- result display -->
        <textarea cols="80" rows="10" id="textDisplay"></textarea>

        <!-- gps info -->
        <ul>
          <input type="button" id="permit" value="SafariでDeviceOrientationを許可" />
          <li>【compass】<span id="direction"></span></li>
          <li>【absolute】<span id="absolute"></span></li>
          <li>【alpha】<span id="alpha"></span></li>
          <li>【beta】<span id="beta"></span></li>
          <li>【gamma】<span id="gamma"></span></li>

          <li>latitude: <span id="latitude"></span></li>
          <li>longitude: <span id="longitude"></span></li>
          <li>altitude: <span id="altitude"></span></li>
          <li>accuracy: <span id="accuracy"></span></li>
          <li>altitudeAccuracy: <span id="altitudeAccuracy"></span></li>
          <li>heading: <span id="heading"></span></li>
          <li>speed: <span id="speed"></span></li>
          <li>datetime: <span id="datetime"></span></li>
        </ul>

        <!-- misc -->
        <input type="file" id="file-input" accept=".json" style="display: none;" />
      </div>
    </ons-page>
  </template>
</body>

</html>